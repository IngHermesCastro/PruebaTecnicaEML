<app-alert
    *ngIf="showAlert"
    [message]="alertMessage"
    [type]="alertType"
    (close)="closeAlert()"
>
</app-alert>
<div
    class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6"
>
    <div>
        <h1 class="text-3xl font-bold flex items-center gap-3">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-8 h-8 text-primary"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"
                />
            </svg>
            Gestión de Usuarios
        </h1>
        <p class="text-base-content/60 mt-1">
            Administra y visualiza todos los usuarios registrados
        </p>
    </div>

    <div class="flex gap-2 flex-wrap">
        <button
            class="btn btn-ghost btn-sm"
            (click)="refreshList()"
            [disabled]="isLoading"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"
                />
            </svg>
            Actualizar
        </button>

        <button
            class="btn btn-outline btn-sm"
            (click)="exportToCSV()"
            *ngIf="users.length > 0"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"
                />
            </svg>
            Exportar CSV
        </button>

        <a routerLink="/users/create" class="btn btn-primary btn-sm">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 4.5v15m7.5-7.5h-15"
                />
            </svg>
            Nuevo Usuario
        </a>
    </div>
</div>

<!-- Estadísticas -->
<div class="stats stats-vertical lg:stats-horizontal shadow w-full mb-6">
    <div class="stat">
        <div class="stat-figure text-primary">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="inline-block w-8 h-8 stroke-current"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                ></path>
            </svg>
        </div>
        <div class="stat-title">Total Usuarios</div>
        <div class="stat-value text-primary">{{ stats.total }}</div>
        <div class="stat-desc">Registrados en el sistema</div>
    </div>

    <div class="stat">
        <div class="stat-figure text-success">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="inline-block w-8 h-8 stroke-current"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
            </svg>
        </div>
        <div class="stat-title">Activos</div>
        <div class="stat-value text-success">{{ stats.active }}</div>
        <div class="stat-desc">Usuarios habilitados</div>
    </div>
</div>

<!-- Barra de búsqueda y filtros -->
<div class="card bg-base-100 shadow-md mb-6">
    <div class="card-body p-4">
        <div class="flex flex-col md:flex-row gap-4 items-center">
            <div class="form-control w-full md:w-auto flex-1">
                <div class="input-group">
                    <span class="bg-base-200">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="w-5 h-5"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
                            />
                        </svg>
                    </span>
                    <input
                        type="text"
                        placeholder="Buscar por nombre, apellido, email o teléfono..."
                        class="input input-bordered w-full"
                        [(ngModel)]="searchTerm"
                        (ngModelChange)="onSearchChange($event)"
                    />
                    <button
                        class="btn btn-square"
                        *ngIf="searchTerm"
                        (click)="searchTerm = ''; onSearchChange('')"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            class="w-5 h-5"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M6 18L18 6M6 6l12 12"
                            />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="form-control w-full md:w-auto">
                <select
                    class="select select-bordered"
                    [(ngModel)]="itemsPerPage"
                    (change)="updatePagination()"
                >
                    <option [value]="5">5 por página</option>
                    <option [value]="10">10 por página</option>
                    <option [value]="25">25 por página</option>
                    <option [value]="50">50 por página</option>
                </select>
            </div>
        </div>

        <div class="text-sm text-base-content/60 mt-2" *ngIf="searchTerm">
            Mostrando {{ filteredUsers.length }} de {{ users.length }} usuarios
        </div>
    </div>
</div>

<!-- Estado de carga -->
<div *ngIf="isLoading" class="flex justify-center items-center py-20">
    <span class="loading loading-spinner loading-lg text-primary"></span>
</div>

<!-- Mensaje cuando no hay usuarios -->
<div
    *ngIf="!isLoading && users.length === 0"
    class="card bg-base-100 shadow-md"
>
    <div class="card-body items-center text-center py-16">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-24 h-24 text-base-content/20 mb-4"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"
            />
        </svg>
        <h3 class="text-2xl font-bold mb-2">No hay usuarios registrados</h3>
        <p class="text-base-content/60 mb-6">
            Comienza agregando tu primer usuario al sistema
        </p>
        <a routerLink="/users/create" class="btn btn-primary">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 4.5v15m7.5-7.5h-15"
                />
            </svg>
            Crear Primer Usuario
        </a>
    </div>
</div>

<!-- Mensaje cuando no hay resultados de búsqueda -->
<div
    *ngIf="!isLoading && users.length > 0 && filteredUsers.length === 0"
    class="card bg-base-100 shadow-md"
>
    <div class="card-body items-center text-center py-16">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-24 h-24 text-base-content/20 mb-4"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
            />
        </svg>
        <h3 class="text-2xl font-bold mb-2">No se encontraron resultados</h3>
        <p class="text-base-content/60 mb-4">
            No hay usuarios que coincidan con "{{ searchTerm }}"
        </p>
        <button
            class="btn btn-ghost"
            (click)="searchTerm = ''; onSearchChange('')"
        >
            Limpiar búsqueda
        </button>
    </div>
</div>

<!-- Tabla de usuarios (Vista Desktop) -->
<div *ngIf="!isLoading && filteredUsers.length > 0" class="hidden lg:block">
    <div class="card bg-base-100 shadow-md overflow-hidden">
        <div class="overflow-x-auto">
            <table class="table table-zebra">
                <thead class="bg-base-200">
                    <tr>
                        <th>ID</th>
                        <th>Nombre Completo</th>
                        <th>Email</th>
                        <th>Teléfono</th>
                        <th>Fecha Registro</th>
                        <th>Última Modificación</th>
                        <th>Estado</th>
                        <th class="text-center">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let user of paginatedUsers" class="hover">
                        <td class="font-mono font-semibold">{{ user.id }}</td>
                        <td>
                            <div class="flex items-center gap-3">
                                <div class="avatar placeholder">
                                    <div
                                        class="bg-primary text-primary-content rounded-full w-10"
                                    >
                                        <span class="text-xs"
                                            >{{ user.nombres.charAt(0)
                                            }}{{
                                                user.apellidos.charAt(0)
                                            }}</span
                                        >
                                    </div>
                                </div>
                                <div>
                                    <div class="font-bold">
                                        {{ getFullName(user) }}
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <a
                                [href]="'mailto:' + user.email"
                                class="link link-primary"
                                >{{ user.email }}</a
                            >
                        </td>
                        <td>
                            <a [href]="'tel:' + user.telefono" class="link">{{
                                user.telefono
                            }}</a>
                        </td>
                        <td class="text-sm">
                            {{ formatDate(user.fecha_registro) }}
                        </td>
                        <td class="text-sm">
                            {{ formatDate(user.fecha_modificacion) }}
                        </td>
                        <td>
                            <span
                                class="badge"
                                [ngClass]="getStatusBadge(user)"
                            >
                                {{ getStatusText(user) }}
                            </span>
                        </td>
                        <td>
                            <div class="flex gap-2 justify-center">
                                <a
                                    [routerLink]="['/users/edit', user.id]"
                                    class="btn btn-warning btn-sm"
                                    title="Editar"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke-width="1.5"
                                        stroke="currentColor"
                                        class="w-4 h-4"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"
                                        />
                                    </svg>
                                </a>
                                <button
                                    (click)="openDeleteModal(user)"
                                    class="btn btn-error btn-sm"
                                    title="Eliminar"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke-width="1.5"
                                        stroke="currentColor"
                                        class="w-4 h-4"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                                        />
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Vista Mobile (Cards) -->
<div *ngIf="!isLoading && filteredUsers.length > 0" class="lg:hidden space-y-4">
    <div *ngFor="let user of paginatedUsers" class="card bg-base-100 shadow-md">
        <div class="card-body">
            <!-- Header del card con avatar y estado -->
            <div class="flex justify-between items-start mb-3">
                <div class="flex items-center gap-3">
                    <div class="avatar placeholder">
                        <div
                            class="bg-primary text-primary-content rounded-full w-12"
                        >
                            <span class="text-sm"
                                >{{ user.nombres.charAt(0)
                                }}{{ user.apellidos.charAt(0) }}</span
                            >
                        </div>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg">
                            {{ getFullName(user) }}
                        </h3>
                        <p class="text-xs text-base-content/60">
                            ID: {{ user.id }}
                        </p>
                    </div>
                </div>
                <span class="badge" [ngClass]="getStatusBadge(user)">
                    {{ getStatusText(user) }}
                </span>
            </div>

            <div class="divider my-2"></div>

            <!-- Información del usuario -->
            <div class="space-y-2">
                <div class="flex items-center gap-2">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-4 h-4 text-base-content/60"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"
                        />
                    </svg>
                    <a
                        [href]="'mailto:' + user.email"
                        class="link link-primary text-sm"
                        >{{ user.email }}</a
                    >
                </div>

                <div class="flex items-center gap-2">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-4 h-4 text-base-content/60"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"
                        />
                    </svg>
                    <a [href]="'tel:' + user.telefono" class="link text-sm">{{
                        user.telefono
                    }}</a>
                </div>

                <div class="flex items-start gap-2">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-4 h-4 text-base-content/60 mt-0.5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"
                        />
                    </svg>
                    <div class="text-xs">
                        <p>
                            <strong>Registro:</strong>
                            {{ formatDate(user.fecha_registro) }}
                        </p>
                        <p>
                            <strong>Modificación:</strong>
                            {{ formatDate(user.fecha_modificacion) }}
                        </p>
                    </div>
                </div>
            </div>

            <div class="divider my-2"></div>

            <!-- Botones de acción -->
            <div class="card-actions justify-end">
                <a
                    [routerLink]="['/users/edit', user.id]"
                    class="btn btn-warning btn-sm"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-4 h-4"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"
                        />
                    </svg>
                    Editar
                </a>
                <button
                    (click)="openDeleteModal(user)"
                    class="btn btn-error btn-sm"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-4 h-4"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                        />
                    </svg>
                    Eliminar
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Paginación -->
<div
    *ngIf="!isLoading && filteredUsers.length > 0"
    class="flex justify-center mt-6"
>
    <div class="join">
        <!-- Botón Primera Página -->
        <button
            class="join-item btn btn-sm"
            (click)="goToPage(1)"
            [disabled]="currentPage === 1"
        >
            «
        </button>

        <!-- Botón Anterior -->
        <button
            class="join-item btn btn-sm"
            (click)="previousPage()"
            [disabled]="currentPage === 1"
        >
            ‹
        </button>

        <!-- Números de página -->
        <button
            *ngFor="let page of pageNumbers"
            class="join-item btn btn-sm"
            [class.btn-active]="page === currentPage"
            (click)="goToPage(page)"
        >
            {{ page }}
        </button>

        <!-- Botón Siguiente -->
        <button
            class="join-item btn btn-sm"
            (click)="nextPage()"
            [disabled]="currentPage === totalPages"
        >
            ›
        </button>

        <!-- Botón Última Página -->
        <button
            class="join-item btn btn-sm"
            (click)="goToPage(totalPages)"
            [disabled]="currentPage === totalPages"
        >
            »
        </button>
    </div>
</div>

<!-- Información de paginación -->
<div
    *ngIf="!isLoading && filteredUsers.length > 0"
    class="text-center text-sm text-base-content/60 mt-4"
>
    Mostrando {{ (currentPage - 1) * itemsPerPage + 1 }} -
    {{
        currentPage * itemsPerPage < filteredUsers.length
            ? currentPage * itemsPerPage
            : filteredUsers.length
    }}
    de {{ filteredUsers.length }} usuarios
</div>

<!-- Modal de Confirmación de Eliminación -->
<div *ngIf="showDeleteModal" class="modal modal-open">
    <div class="modal-box">
        <h3 class="font-bold text-lg flex items-center gap-2">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6 text-error"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"
                />
            </svg>
            Confirmar Eliminación
        </h3>

        <div class="py-4" *ngIf="userToDelete">
            <div class="alert alert-warning">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    class="stroke-current shrink-0 w-6 h-6"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
                    ></path>
                </svg>
                <div>
                    <p class="font-semibold">
                        ¿Estás seguro de que deseas eliminar este usuario?
                    </p>
                    <p class="text-sm mt-2">
                        <strong>Usuario:</strong> {{ getFullName(userToDelete)
                        }}<br />
                        <strong>Email:</strong> {{ userToDelete.email }}
                    </p>
                    <p class="text-sm mt-2 text-error font-semibold">
                        Esta acción no se puede deshacer.
                    </p>
                </div>
            </div>
        </div>

        <div class="modal-action">
            <button class="btn btn-ghost" (click)="closeDeleteModal()">
                Cancelar
            </button>
            <button class="btn btn-error" (click)="confirmDelete()">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                    />
                </svg>
                Sí, Eliminar
            </button>
        </div>
    </div>
    <div class="modal-backdrop" (click)="closeDeleteModal()"></div>
</div>
